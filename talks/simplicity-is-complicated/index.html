<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="/learning-notes/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/learning-notes/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/learning-notes/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/learning-notes/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Simplicity is Complicated | Notes</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Simplicity is Complicated" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Keyvan Akbary learning notes" /> <meta property="og:description" content="Keyvan Akbary learning notes" /> <meta property="og:site_name" content="Notes" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Simplicity is Complicated" /> <script type="application/ld+json"> {"headline":"Simplicity is Complicated","description":"Keyvan Akbary learning notes","@type":"WebPage","url":"/learning-notes/talks/simplicity-is-complicated/","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/learning-notes/" class="site-title lh-tight"> Notes </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/learning-notes/articles/" class="nav-list-link">Articles</a><ul class="nav-list "></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/learning-notes/books/" class="nav-list-link">Books</a><ul class="nav-list "></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/learning-notes/talks/" class="nav-list-link">Talks</a><ul class="nav-list "></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/learning-notes/papers/" class="nav-list-link">Papers</a><ul class="nav-list "></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Notes" aria-label="Search Notes" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/keyvanakbary/learning-notes" class="site-button" > Learning Notes on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/learning-notes/talks/">Talks</a></li> <li class="breadcrumb-nav-list-item"><span>Simplicity is Complicated</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="simplicity-is-complicated"> <a href="#simplicity-is-complicated" class="anchor-heading" aria-labelledby="simplicity-is-complicated"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a href="https://www.youtube.com/watch?v=rFejpH_tAHM">Simplicity is Complicated</a> </h1> <h2 id="success"> <a href="#success" class="anchor-heading" aria-labelledby="success"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Success </h2> <p>What makes Go successful?</p> <ul> <li>Speed of compilation</li> <li>Speed of execution</li> <li>Deployment</li> <li>Tools</li> <li>Libraries</li> </ul> <p>Which are not language features, these are superficial reasons. All are important but not really the answer.</p> <h2 id="simplicity"> <a href="#simplicity" class="anchor-heading" aria-labelledby="simplicity"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Simplicity </h2> <p>Go is simple, at least compared to established languages. Simplicity has many facets. Simplicity is complicated.</p> <h2 id="convergence"> <a href="#convergence" class="anchor-heading" aria-labelledby="convergence"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Convergence </h2> <p>Java, JavaScript, TypeScript, C#, C++, PHP actively borrow features from one another, they are converging into a single huge language.</p> <h2 id="language-relativity"> <a href="#language-relativity" class="anchor-heading" aria-labelledby="language-relativity"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Language relativity </h2> <p><em>Sapir-Whorf hypothesis</em>: Language influences thought.</p> <p>Controversial with regard to human languages.</p> <p>Close to a fact for computer languages. Consider:</p> <ul> <li>Logic programming</li> <li>Procedural programming</li> <li>Functional programming</li> <li>Object-oriented programming</li> <li>Concurrent programming</li> </ul> <p>Like disciplines in mathematics. Like, you don’t solve Calculus with Algebra even though they share semantics.</p> <h2 id="convergence-and-relativity"> <a href="#convergence-and-relativity" class="anchor-heading" aria-labelledby="convergence-and-relativity"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Convergence and relativity </h2> <p>If the languages all converge, we will all think the same.</p> <p>But different ways of thinking are good.</p> <p>Need different languages for different problems.</p> <p>We don’t want just one tool, we want a set of tools, each best at one task.</p> <h2 id="convergence-and-features"> <a href="#convergence-and-features" class="anchor-heading" aria-labelledby="convergence-and-features"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Convergence and features </h2> <p>Language evolve and compete by adding features.</p> <p>The languages grow in complexity while becoming more similar.</p> <p>Bloat without distinction.</p> <h2 id="features-in-go"> <a href="#features-in-go" class="anchor-heading" aria-labelledby="features-in-go"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Features in Go </h2> <p>Go is different.</p> <p>Go does not try to be like the other languages.</p> <p>Go does not compete on features.</p> <p>As of Go 1, the language is fixed.</p> <p>Many newcomers to Go ask for features from other languages they know. But those features do not belong in Go, and the language is fixed.</p> <p>Adding features to Go would not make it better, just bigger.</p> <p>That would make Go less interesting by being less different.</p> <h2 id="but-you-need-features"> <a href="#but-you-need-features" class="anchor-heading" aria-labelledby="but-you-need-features"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> But you need features! </h2> <p>Of course, there must be <em>some</em> features.</p> <p>But which ones? The right ones!</p> <p>Design by consensus.</p> <h2 id="readability"> <a href="#readability" class="anchor-heading" aria-labelledby="readability"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Readability </h2> <p>If a language has too many features, you waste time choosing which one to use. Then implement, refine, possibly rethink and redo.</p> <p>Later, “Why does the code work this way?”</p> <p><em>The code is harder to understand simply because it is using a more complex language.</em></p> <p>Preferable to have just one way, or at least fewer, simpler ways.</p> <p>Features add complexity. We want simplicity.</p> <p>Features hurt readability. We want readability.</p> <p>Readability is paramount.</p> <h2 id="readable-means-reliable"> <a href="#readable-means-reliable" class="anchor-heading" aria-labelledby="readable-means-reliable"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Readable means reliable </h2> <p>Readable code is reliable code.</p> <p>It’s easier to understand.</p> <p>It’s easier to work on.</p> <p>If it breaks, it’s easier to fix.</p> <p>If the language is complicated:</p> <ul> <li>You must understand more things to read and work on the code.</li> <li>You must understand more things to debug and fix it.</li> </ul> <p>A key tradeoff: More fun to write, or less work to maintain? Go has been thought to make programs more maintainable in the long term.</p> <h2 id="expressiveness"> <a href="#expressiveness" class="anchor-heading" aria-labelledby="expressiveness"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Expressiveness </h2> <p>Features are often suggested to aid “expressiveness”.</p> <p>Conciseness can be expressive but not always readable (imagine mathematical symbols).</p> <p>Can also be expensive, implementing simple ideas with too-powerful primitives. Performance can also be unpredictable.</p> <p>On the other hand, verbosity can inhibit readability by obscuring intent.</p> <p>Build on, but do not be limited by, familiar ideas.</p> <p>Be concise while remaining expressive.</p> <h2 id="the-right-set-of-features"> <a href="#the-right-set-of-features" class="anchor-heading" aria-labelledby="the-right-set-of-features"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The right set of features </h2> <p>Not features for features’ sake.</p> <p>Features that “cover the space”, like vector basis covering solution space.</p> <p>Orthogonal features that interact predictably.</p> <p>Simple features that interact in simple ways.</p> <p>Simplicity comes from orthogonality and predictability.</p> <p>Keep the language’s goals in mind.</p> <h2 id="gos-goals"> <a href="#gos-goals" class="anchor-heading" aria-labelledby="gos-goals"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Go’s goals </h2> <p>Clean procedural language designed for scalable cloud software (infrastructure/ server infrastructure).</p> <p>Composable distinct elements, including:</p> <ul> <li>Concrete data types</li> <li>Functions and methods</li> <li>Interfaces</li> <li>Packages</li> <li>Concurrency</li> </ul> <p>Plus: Good tools, fast builds.</p> <p>All the pieces feel simple in practice.</p> <h2 id="simplicity-1"> <a href="#simplicity-1" class="anchor-heading" aria-labelledby="simplicity-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Simplicity </h2> <p>Go is actually complex, but it <em>feels</em> simple.</p> <p>Interacting elements must mesh seamlessly, without surprises.</p> <p>Requires a lot of design, implementation work, refinement.</p> <p>Simplicity is the art of hiding complexity.</p> <h2 id="a-few-simple-things-in-go"> <a href="#a-few-simple-things-in-go" class="anchor-heading" aria-labelledby="a-few-simple-things-in-go"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> A few simple things in Go </h2> <ul> <li>Garbage collection</li> <li>Goroutines</li> <li>Constants</li> <li>Interfaces</li> <li>Packages</li> </ul> <p>Each hides complexity behind a simple facade.</p> <h2 id="garbage-collection"> <a href="#garbage-collection" class="anchor-heading" aria-labelledby="garbage-collection"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Garbage collection </h2> <p>Perhaps the best example of simplicity hiding complexity.</p> <p>Very difficult to implement well, but worth it. Yet so simple the language specification mentions it only in the introduction. Nonetheless, parts of the language strongly influenced by it.</p> <p>Code is simpler because GC is there. Design does not need to include “ownership”.</p> <p>Go: There is no <code class="language-plaintext highlighter-rouge">free</code>. There is only garbage collection. As simple as it can be. (But complex behind the facade.)</p> <h2 id="concurrency"> <a href="#concurrency" class="anchor-heading" aria-labelledby="concurrency"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Concurrency </h2> <p>Concurrency is the ability to write your program as independently executing pieces. In Go, concurrency has three elements:</p> <ul> <li>goroutines (execution)</li> <li>channels (communication)</li> <li><code class="language-plaintext highlighter-rouge">select</code> (coordination)</li> </ul> <h2 id="goroutines"> <a href="#goroutines" class="anchor-heading" aria-labelledby="goroutines"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Goroutines </h2> <p>Start a goroutine with the <code class="language-plaintext highlighter-rouge">go</code> keyword:</p> <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">go</span> <span class="n">function</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</code></pre></div></div> <p>Like garbage collection, eliminate considerations form the programmer’s concern:</p> <ul> <li>no stack size</li> <li>no return or completion status</li> <li>no mechanism for management</li> <li>no “ID”</li> </ul> <p>These are things other systems would provide. Go instead has a minimalist design.</p> <p>Implementation complex, dependent on garbage collection for stack management.</p> <h2 id="constants"> <a href="#constants" class="anchor-heading" aria-labelledby="constants"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Constants </h2> <p>In Go, constants are just numbers, even though (because) it is strongly typed.</p> <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="n">nanosecond</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="o">/</span><span class="n">ie9</span>
</code></pre></div></div> <p>Simple idea took about a year to work out. Difficulties:</p> <ul> <li>“infinite” precision integers</li> <li>“ifinite” precision floating point (tried and failed with rationals)</li> <li>promotion rules (<code class="language-plaintext highlighter-rouge">i := 2; f := 2.0; g := 1/2; h := 1/2.0</code>)</li> <li>corner cases like shift <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%T %T"</span><span class="p">,</span> <span class="m">2.0</span><span class="p">,</span> <span class="m">2.0</span><span class="o">&lt;&lt;</span><span class="m">0</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> <p>Still not totally satisfied, but the effect is that constants feel like numbers, contribute to ease of using Go. But complicated behind the scenes.</p> <h2 id="interfaces"> <a href="#interfaces" class="anchor-heading" aria-labelledby="interfaces"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Interfaces </h2> <p>Just a set of methods. No data. Simple idea, but more complex than expected</p> <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span> <span class="n">Reader</span> <span class="k">interface</span> <span class="p">{</span>
    <span class="n">Read</span><span class="p">([]</span><span class="kt">byte</span><span class="p">)</span> <span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div> <p>Also need variables of that type (<code class="language-plaintext highlighter-rouge">var reader io.Reader</code>). These variables add dynamic typing to a statically typed language.</p> <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="n">r</span> <span class="n">Reader</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">Stdin</span> <span class="c">// statically checked.</span>
<span class="k">var</span> <span class="n">x</span> <span class="k">interface</span><span class="p">{}</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">Stdin</span> <span class="c">// statically checked.</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="p">(</span><span class="n">Reader</span><span class="p">)</span> <span class="c">// dynamically checked. Must be explicit here, design decision.</span>
</code></pre></div></div> <p>Requires careful design. Interface assignment must be implemented at run time (not a v-table). What if it fails? Led to type assertions and the “comma, ok” idiom.</p> <p>More complecity crept in. Type assertions and type switches were not in the original plan.</p> <p>Go’s most distintive and powerful feature.</p> <p>Profound effect on library design.</p> <p>Enables true component architectures. Prime examples are <code class="language-plaintext highlighter-rouge">io.Reader</code> and <code class="language-plaintext highlighter-rouge">io.Writer</code>, generalisations of the Unix pipe idea.</p> <p>Feel simple, worth the complexity.</p> <h2 id="packages"> <a href="#packages" class="anchor-heading" aria-labelledby="packages"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Packages </h2> <p>A design for structuring programs and libraries.</p> <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">big</span>
<span class="o">...</span>
<span class="k">import</span> <span class="s">"math/big"</span>
</code></pre></div></div> <p>Took a long time to design. Enable componentisation, scalability, sharing, data hiding and isolation, …</p> <p>Affect program design, syntax, naming, building, linking, testing, …</p> <p>Separation of package path (<code class="language-plaintext highlighter-rouge">"math/big"</code>) from package name (<code class="language-plaintext highlighter-rouge">big</code>). Enabled the <code class="language-plaintext highlighter-rouge">go get</code> mechanism.</p> <p>Intrincate to implement yet natural to use.</p> <p>After garbage collection, perhaps the highest ratio of true complexity to apparent simplicity, and therefore of the power of simplicity to hide complexity.</p> <h2 id="summary"> <a href="#summary" class="anchor-heading" aria-labelledby="summary"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Summary </h2> <p>Simplicity is complicated but the clarity is worth the fight.</p> <h2 id="conclusion"> <a href="#conclusion" class="anchor-heading" aria-labelledby="conclusion"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Conclusion </h2> <p>Simplicity is hard – to design.</p> <p>Simplicity is complicated – to build.</p> <p>But if you get it right…</p> <p>Simplicity is easy – to use.</p> <p>The success of Go proves it.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
